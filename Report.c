#include	"Misc.h"#include	"Save.h"#define REPORT_DLOG_ID		135#define REPORT_SAVE_NOW_ID	1#define REPORT_SAVE_LAT_ID	2 #define REPORT_VARIABLE1_ID	7#define REPORT_VARIABLE2_ID	8#define REPORT_VARIABLE3_ID	9#define NIL_POINTER			0L#define MOVE_TO_FRONT		(WindowPtr)-1Ltypedef char	string[31];extern int		lineCounter,				numberOfKey;extern string   variables[3];void	DoReport(void);void	DoReport(){	DialogPtr	theDialog;	int			itemHit,				tempInt;	string		tempString,				tempString2;	Handle		theHandle;	Rect		theRect;		theDialog = GetNewDialog(REPORT_DLOG_ID,NIL_POINTER,MOVE_TO_FRONT);	itoa(lineCounter,tempString);	itoa(numberOfKey,tempString2);	if (numberOfKey < 2)		ParamText(CtoPstr(tempString),CtoPstr(tempString2),"\pvariable","\pvariable");	else		ParamText(CtoPstr(tempString),CtoPstr(tempString2),"\pvariables","\pvariables");		for (itemHit=0; itemHit<numberOfKey; itemHit++) {		GetDItem(theDialog,REPORT_VARIABLE1_ID+itemHit,&tempInt,&theHandle,&theRect);		SetIText(theHandle,CtoPstr(variables[itemHit]));		}				ModalDialog(NIL_POINTER,&itemHit);	DisposDialog(theDialog);		if (itemHit == REPORT_SAVE_NOW_ID)		DoSaveFile();}